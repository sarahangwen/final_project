doctype html
html
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title Update Sale - KGL Grocery
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css', rel='stylesheet')
    link(rel='stylesheet', href='/css/product.css')
    style.
      .navbar-blue {
        background-color:rgb(57, 69, 87);
      }
      .nav-link {
        color: white !important;
      }
  body
    nav.navbar.navbar-dark.navbar-blue
      .container.d-flex.justify-content-center
        ul.nav
          li.nav-item
            a.nav-link(href='/managerMaganjoDash') Back to Dashboard

    .container.mt-5
      h2.mb-4 Update Sale

      form#registerSaleForm(method="POST", action=`/updateSaleMaganjo/${sale._id}`, onsubmit="return validateForm()")
        .row.mb-3
          .col-md-6
            label(for='produceName' class='form-label') Produce Name
            select#produceName(name='produceName' class='form-select' required)
              option(value='') Select Produce
              option(value='Maize grains', selected=sale.produceName === 'Maize grains') Maize grains
              option(value='Soya beans', selected=sale.produceName === 'Soya beans') Soya beans
              option(value='Cow peas', selected=sale.produceName === 'Cow peas') Cow peas
              option(value='G-nuts', selected=sale.produceName === 'G-nuts') G-nuts
              option(value='Maize', selected=sale.produceName === 'Maize') Maize
          .col-md-6
            label(for='produceType' class='form-label') Produce Type
            select#produceType(name='produceType' class='form-select' required)
              option(value='') Select Type
              option(value='Legume', selected=sale.produceType === 'Legume') Legume
              option(value='Cereals', selected=sale.produceType === 'Cereals') Cereals

        .row.mb-3
          .col-md-6
            label(for='saleDate' class='form-label') Date of Sale
            input#saleDate(type='date', name='saleDate', class='form-control', required, value=sale.saleDate.toISOString().split('T')[0])
          .col-md-6
            label(for='saleTime' class='form-label') Time of Sale
            input#saleTime(type='time', name='saleTime', class='form-control', required, value=sale.saleTime)

        .row.mb-3
          .col-md-6
            label(for='quantitySold' class='form-label') Quantity Sold (kgs)
            input#quantitySold(type='number', name='quantitySold', class='form-control', min='1', required, value=sale.quantitySold)
          .col-md-6
            label(for='pricePerKg' class='form-label') Price per Kg (UGX)
            input#pricePerKg(type='number', name='pricePerKg', class='form-control', min='1000', required, value=sale.pricePerKg)

        .row.mb-3
          .col-md-6
            label(for='buyerName' class='form-label') Buyer Name
            input#buyerName(type='text', name='buyerName', class='form-control', required, value=sale.buyerName)
          .col-md-6
            label(for='buyerContact' class='form-label') Buyer Contact
            input#buyerContact(type='tel', name='buyerContact', class='form-control', required, value=sale.buyerContact)

        .row.mb-3
          .col-md-6
            label(for='branchName' class='form-label') Branch Name
            select#branchName(name='branchName' class='form-select' required)
              option(value='') Select Branch
              option(value='Maganjo', selected=sale.branchName === 'Maganjo') Maganjo
              option(value='Matugga', selected=sale.branchName === 'Matugga') Matugga
          .col-md-6
            label(for='paymentMode' class='form-label') Payment Mode
            select#paymentMode(name='paymentMode' class='form-select' required)
              option(value='') Select Payment Mode
              option(value='Cash', selected=sale.paymentMode === 'Cash') Cash
              option(value='mobileMoney', selected=sale.paymentMode === 'mobileMoney') Mobile Money

        button(type='submit' class='btn btn-primary mt-4') Update Sale

    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js')
